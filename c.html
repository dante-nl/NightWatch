<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Curfew timer - NightWatch</title>
    <link rel="stylesheet" href="https://nw-fallback.netlify.app/style.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Curfew timer - NightWatch" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="http://nw-fallback.netlify.app/image/NightWatchIcon.png" />
    <meta property="og:description" content="This is a timer generated with NightWatch!" />
    <meta property="theme-color" content="#78E0DC" />
  </head>
  <body>
    <div class="topnav" id="navbar"><a href="/index" style="text-decoration: none; color: #ffffff; float: left;">Home</a><a href="premade" style="text-decoration: none; color: #e6e6e6; float: right;">Premade timers</a></div>
    <h1 id="countdown"><div class="sk-fading-circle">
  <div class="sk-circle1 sk-circle"></div>
  <div class="sk-circle2 sk-circle"></div>
  <div class="sk-circle3 sk-circle"></div>
  <div class="sk-circle4 sk-circle"></div>
  <div class="sk-circle5 sk-circle"></div>
  <div class="sk-circle6 sk-circle"></div>
  <div class="sk-circle7 sk-circle"></div>
  <div class="sk-circle8 sk-circle"></div>
  <div class="sk-circle9 sk-circle"></div>
  <div class="sk-circle10 sk-circle"></div>
  <div class="sk-circle11 sk-circle"></div>
  <div class="sk-circle12 sk-circle"></div>
</div></h1>
      <a class="button" href="/index">I want to make a countdown!</a>
    <script>
const queryString = new URLSearchParams(window.location.search);
const start = queryString.get('start');
const end = queryString.get('end');
if( start ) {
  if ( end )  {
  var countDownDate = new Date(`Feb 28, 6969 ${start}:00`).getTime();
  var countDownDate1 = new Date(`Feb 29, 6969 ${end}:00`).getTime();

  var x = setInterval(function() {

    var now = new Date().getTime();

    var distance = countDownDate1 - now;

    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

    var distance1 = countDownDate - now;

    var days1 = Math.floor(distance1 / (1000 * 60 * 60 * 24));
    var hours1 = Math.floor((distance1 % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes1 = Math.floor((distance1 % (1000 * 60 * 60)) / (1000 * 60));
    var seconds1 = Math.floor((distance1 % (1000 * 60)) / 1000);

    document.getElementById("countdown").innerHTML = hours1 + ":"
    + minutes1 + ":" + seconds1 + " until curfew goes in and " + hours + ":"
    + minutes + ":" + seconds + " until it ends";

    if (distance < 0) {
      clearInterval(x);
      document.getElementById("countdown").innerHTML = "Counted down";
    }
  }, 1000); }

else {
  document.getElementById('countdown').innerHTML = `No end time has been given!` }
}
else {
  document.getElementById('countdown').innerHTML = `No time has been given!` }

</script>
  </body>
</html>
